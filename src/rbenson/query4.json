{
  "views": {
    "query4": {
      "map": "function(doc) { if (doc.docType == 'detector' &&  doc.locationtext == 'Foster NB') { emit([doc._id, 0], null); } else if (doc.docType == 'loop') { emit ([doc.detectorid, 1], null); } }"
    },
    "GetDetectors": {
      "map":  "function(doc) { if (doc.docType =='detector') { emit(doc._id, 1); } }"
    }
  }
}